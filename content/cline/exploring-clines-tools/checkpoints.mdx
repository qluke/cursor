---
title: 检查点与消息
---


# 检查点与消息

在使用 AI 编程助手时，AI 可能会快速对你的代码库做出大量更改，容易让你失去控制。为此我们设计了“检查点”功能——让你可以放心大胆地实验。

检查点会在每个任务步骤后自动保存你的工作区快照。这个强大的功能可以让你：

- 跟踪并回顾任务过程中的所有更改
- 随时回滚到任意历史节点
- 配合自动批准模式自信地尝试
- 始终保持对工作区的完全掌控

---

## ⚙️ 检查点工作原理

Cline 在每次工具使用（如文件编辑、命令等）后都会创建一个检查点。这些检查点：

- 与 Git 工作流并行，不会互相干扰
- 恢复时保留上下文
- 使用影子 Git 仓库追踪更改

例如，你在开发一个新功能，Cline 连续修改多个文件，每次更改都会生成一个检查点。你可以逐步回顾每次修改，如有需要，随时回滚到任意节点，而不会影响主 Git 仓库。

---

### 查看更改与恢复检查点

每次工具使用后，你可以：

1. 点击“对比”按钮查看被修改的文件
2. 点击“恢复”按钮打开恢复选项

#### 回滚操作

要恢复到某个历史节点：

1. 点击对应步骤旁的“恢复”按钮
2. 选择三种恢复方式之一：
   - **恢复任务与工作区**：同时重置代码和任务到该节点
   - **仅恢复任务**：保留代码更改，仅回退任务上下文
   - **仅恢复工作区**：只回退代码，保留任务上下文

举例：如果 Cline 在样式调整时做了你不满意的更改，可以用“仅恢复工作区”撤销代码变动，但保留对话上下文，便于尝试其他方案。

---

## 💡 典型用例

检查点让你在 Cline 上更大胆地实验。AI 可以快速做出大量更改，而人工开发往往更迭代、谨慎。检查点帮助你追踪这些更改，并在需要时回滚。

### 1. 使用自动批准模式

- 为快速迭代提供安全保障
- 轻松撤销意外结果

### 2. 尝试不同方案

- 自信地尝试多种解决思路
- 对比不同实现
- 快速回退到可用状态
- 适合探索不同设计模式或架构方案

---

## ✨ 最佳实践

1. 实验时将检查点作为安全网
2. 配合自动批准模式更大胆地尝试，随时可回滚
3. 按需选择恢复方式：
   - 用“恢复任务与工作区”彻底回到初始状态，撤销文件和对话变更
   - 用“仅恢复任务”尝试不同提示语，保留所有文件
   - 用“仅恢复工作区”尝试不同实现，或清理任务上下文

🛟 检查点是你在 Cline 上实验的安全保障，让你在保持对代码库完全掌控的同时自由探索。无论是重构复杂组件、尝试不同实现，还是用自动批准模式快速开发，检查点都能让你随时回顾和回滚。

---

## 🗑️ 删除检查点

你可以在任务历史菜单中点击“删除所有历史”按钮，一键删除所有检查点（注意：这也会删除所有任务）。检查点存储在 VS Code 的 globalStorage 中。

---

# 编辑消息

Cline 支持在任务中编辑已提交的聊天消息（任务起始消息除外）。

有时你可能对结果不满意，想换种表达方式，或需要补充信息。编辑消息后可重新提交请求，无需重头开始，也无需用检查点恢复文件或工作区。恢复有两种方式：

- **“恢复聊天”**：仅恢复任务状态，并用编辑后的消息重新请求 API
- **“恢复全部”**：同时恢复任务状态和工作区状态，再用编辑后的消息重新请求 API。工作区状态指会话过程中各个时间点的文件、内容等。

**交互式编辑：**

- 点击消息即可进入编辑模式
- 进入编辑模式时 Cline 会自动全选文本

**快捷键：**

- Escape：退出编辑模式
- Enter：仅恢复任务
- Cmd/Ctrl + Enter：恢复任务和工作区
- Shift + Enter：插入新行/换行
 