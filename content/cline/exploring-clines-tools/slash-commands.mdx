---
title: 斜杠命令
---

## 斜杠命令

#### 概述

Cline 提供斜杠命令，让你可以直接在聊天输入框中快速调用特定工具或操作，为常用操作提供便捷快捷方式。本文档详细介绍了可用的斜杠命令及其用法。

#### /newtask

`/newtask` 斜杠命令为你提供了一种快速、用户主动的方式，利用 `new_task` 工具进行分支探索或管理长会话，无需等待 Cline 主动建议。

**功能说明：**

1. **发起：** 在聊天输入框输入 `/newtask`，Cline 会准备开启新任务会话。
2. **上下文建议：** Cline 会建议创建新任务，并通常基于当前会话自动生成预加载上下文（如当前工作、技术要点、相关文件、已解决问题和下一步等摘要）。
3. **用户确认：** 你会收到一个确认提示（通过 `ask_followup_question` 工具），显示建议的上下文。你可以直接批准，也可以在新任务开始前修改上下文。
4. **新会话：** 确认后，Cline 结束当前任务会话，立即开启新会话，并预加载已批准的上下文。

**优势：** 让你在不手动复制或丢失前一会话线索的情况下，干净地分支工作或开启新阶段，同时携带必要的背景信息（"知识转移"）。

#### /smol（别名 /compact）

`/smol` 斜杠命令（`/compact` 为别名）允许你**在当前任务内**压缩聊天历史。当对话变得很长时，这有助于提升性能或让模型更好地聚焦。

**功能说明：**

1. **发起：** 输入 `/smol` 或 `/compact`，Cline 会理解你希望压缩当前聊天历史。你还可以在命令后添加说明，指导摘要过程（如 `/smol 只关注数据库变更` 或 `/smol 简明扼要，用项目符号`）。
2. **摘要：** Cline 会分析对话历史，结合你的补充说明，生成聚焦于关键要素的摘要：近期讨论点、重要决策、技术要点、相关文件、已解决问题和计划的下一步。Cline 会自动决定摘要的长度和细节，保留开头和最新部分，压缩中间内容。
3. **用户确认：** Cline 会通过确认提示向你展示生成的摘要，并询问其是否准确反映了关键信息。
4. **压缩：** 如果你批准，Cline 会用生成的摘要替换当前任务上下文中的中间聊天历史，从而减少后续交互的总 token 数。
5. **反馈：** 如果你拒绝摘要或提出反馈，Cline 会保留原始历史，并在后续操作中采纳你的意见。

**优势：** 在非常长、连续的任务（如深度调试或长时间开发）中，有助于保持聚焦和管理 token 使用，无需开启新任务。你还可以引导摘要关注重点。

#### 何时用哪一个？

选择 `/newtask` 还是 `/smol` 取决于你的目标：

- **使用 `/smol`（或 `/compact`）当：**
  - 你希望继续**同一个任务**，但聊天历史已很长或成本较高。
  - 你需要减少当前工作流后续交互的 token 使用。
  - 示例：深度调试时希望在继续前先总结前面步骤。

- **使用 `/newtask` 当：**
  - 你已完成一个阶段的工作，想开启**新的相关任务**。
  - 你希望分支探索，同时保留前一会话的关键信息。
  - 示例：从开发功能 A 转向功能 B，同时带上相关架构决策。

#### 为什么要管理上下文？

虽然 Cline 支持大上下文窗口，主动用 `/newtask` 和 `/smol` 等工具管理上下文依然很有价值：

- **性能：** 当上下文窗口极度饱和（如超过 50-75%，视模型而定）时，大模型可能性能下降或失去聚焦。压缩或重置上下文有助于保持最佳性能。
- **相关性：** 摘要或重开新会话能确保最相关的信息优先保留在上下文窗口。
- **成本：** 减少每轮传递给模型的 token 数，有助于控制成本，尤其是高价模型。

使用 `/newtask` 和 `/smol` 能让你直接掌控对话上下文，实现更高效、更有针对性的 Cline 交互。

